{%- liquid
    assign is_custom_styling = false
    if section.settings.section_styling == 'custom'
      assign is_custom_styling = 'true'
    endif
  
    assign section_max_width = section.settings.custom_section_width | append: 'px'
    assign background_color = section.settings.bg_color
    assign background_image = section.settings.bg_image | image_url: width: 1920
    assign background_gradient = section.settings.bg_gradient
  
    assign heading_font = section.settings.heading_font
    assign heading_font_family = heading_font.family
    assign heading_font_fallback = heading_font.fallback_families
    assign heading_font_weight = heading_font.weight
    assign heading_font_size = section.settings.heading_text_size
    assign heading_font_line_height = section.settings.heading_text_line_height
    assign heading_font_color = section.settings.heading_text_color
  
    assign body_font = section.settings.body_font
    assign body_font_family = body_font.family
    assign body_font_fallback = body_font.fallback_families
    assign body_font_weight = body_font.weight
    assign body_font_size = section.settings.body_text_size
    assign body_font_line_height = section.settings.body_text_line_height
    assign body_font_color = section.settings.body_text_color
  
    assign button_text_size = section.settings.button_text_size | append: 'px'
    assign button_text_color = section.settings.button_text_color
    assign button_text_color_hover = section.settings.button_text_color_hover
    assign button_color = section.settings.button_color
    assign button_color_hover = section.settings.button_color_hover
    assign button_radius = section.settings.button_radius | append: 'px'
      assign button_border_width = section.settings.button_border_width | append: 'px'
      assign button_border_color = section.settings.button_border_color
      assign button_border_color_hover = section.settings.button_border_color_hover
  
    assign border_type = section.settings.border_type
    assign border_color = section.settings.border_color
    assign border_top_width = section.settings.border_width_top | append: 'px'
    assign border_bottom_width = section.settings.border_width_bottom | append: 'px'
    assign border_left_width = section.settings.border_width_left | append: 'px'
    assign border_right_width = section.settings.border_width_right | append: 'px'
  
    assign padding_top = section.settings.padding_top
    assign padding_bottom = section.settings.padding_bottom
    assign padding_left = section.settings.padding_left
    assign padding_right = section.settings.padding_right
  
    assign margin_top = section.settings.margin_top
    assign margin_bottom = section.settings.margin_bottom
    assign margin_left = section.settings.margin_left
    assign margin_right = section.settings.margin_right
  
    assign custom_css = section.settings.custom_css
    assign custom_js = section.settings.custom_js
  
    assign desktop_visibility = section.settings.show_on_desktop
    assign mobile_visibility = section.settings.show_on_mobile
  -%}
  
  {%- capture section_style_variables -%}
    {%- if is_custom_styling -%}
      --section-padding-top: {{ padding_top | append: 'px' }};
      --section-padding-right: {{ padding_right | append: 'px' }};
      --section-padding-bottom: {{ padding_bottom | append: 'px' }};
      --section-padding-left: {{ padding_left | append: 'px' }};
      --section-margin-top: {{ margin_top | append: 'px' }};
      --section-margin-right: {{ margin_right | append: 'px' }};
      --section-margin-bottom: {{ margin_bottom | append: 'px' }};
      --section-margin-left: {{ margin_left | append: 'px' }};
      {%- if is_custom_styling and section.settings.heading_style == 'custom' -%}
        --section-heading-family: '{{ heading_font_family }}', {{ heading_font_fallback }};
        --section-heading-size: {{ heading_font_size | append: 'px' }};
        --section-heading-weight: {{ heading_font_weight }};
        --section-heading-line-height: {{ heading_font_line_height }};
        --section-heading-color: {{ heading_font_color }};
      {%- endif -%}
      {%- if section.settings.body_style == 'custom' -%}
        --section-body-family: '{{ body_font_family }}', {{ body_font_fallback }};
        --section-body-text-size: {{ body_font_size | append: 'px' }};
        --section-body-text-weight: {{ body_font_weight }};
        --section-body-text-color: {{ body_font_color }};
        --section-body-text-line-height: {{ body_font_line_height }};
      {%- endif -%}
      {%- if section.settings.button_style == 'custom' -%}
        --section-button-text-size: {{ button_text_size }};
        --section-button-text-color: {{ button_text_color }};
        --section-button-text-color-hover: {{ button_text_color_hover }};
        --section-button-color: {{ button_color }};
        --section-button-color-hover: {{ button_color_hover }};
        --section-button-radius: {{ button_radius }};
              --section-button-border-width: {{ button_border_width }};
              --section-button-border-color: {{ button_border_color }};
              --section-button-border-color-hover: {{ button_border_color_hover }};
      {%- endif -%}
      {%- if border_type != 'none' -%}
        --section-border-type: {{ border_type }};
        --section-border-color: {{ border_color }};
        --section-border-top-width: {{ border_top_width }};
        --section-border-bottom-width: {{ border_bottom_width }};
        --section-border-left-width: {{ border_left_width }};
        --section-border-right-width: {{ border_right_width }};
      {%- endif -%}
      {%- if section.settings.background_type == 'color' -%}
        --section-bg-color: {{ background_color }};
      {%- endif -%}
      {%- if section.settings.background_type == 'image' -%}
        --section-bg-image: url('{{ background_image }}');
      {%- endif -%}
      {%- if section.settings.background_type == 'gradient' -%}
        --section-bg-gradient: {{ background_gradient }};
      {%- endif -%}
      {%- if section.settings.section_width == 'custom' -%}
        --section-max-width: {{ section_max_width }};
      {%- endif -%}
      --before-label-bg-color: {{ section.settings.before_label_bg_color | default: '#e8e8e8' }};
      --before-label-text-color: {{ section.settings.before_label_text_color | default: '#000000' }};
      --after-label-bg-color: {{ section.settings.after_label_bg_color | default: '#19BDFF' }};
      --after-label-text-color: {{ section.settings.after_label_text_color | default: '#ffffff' }};
      --nav-button-bg-color: {{ section.settings.nav_button_bg_color | default: '#121212' }};
      --nav-button-text-color: {{ section.settings.nav_button_text_color | default: '#ffffff' }};
      --nav-button-hover-bg-color: {{ section.settings.nav_button_hover_bg_color | default: '#333333' }};
      --nav-button-hover-text-color: {{ section.settings.nav_button_hover_text_color | default: '#ffffff' }};
      --pagination-bullet-color: {{ section.settings.pagination_bullet_color | default: '#cccccc' }};
      --pagination-bullet-active-color: {{ section.settings.pagination_bullet_active_color | default: '#121212' }};
      --before-after-image-border-color: {{ section.settings.image_border_color | default: '#e0e0e0' }};
      --before-after-image-border-width: {{ section.settings.image_border_width | default: 0 }}px;
      --before-after-image-border-radius: {{ section.settings.image_border_radius | default: 6 }}px;
      --before-after-label-border-radius: {{ section.settings.label_border_radius | default: 6 }}px;
      --slide-background-color: {{ section.settings.slide_background_color | default: 'rgba(0,0,0,0)' }};
      --active-slide-background-color: {{ section.settings.active_slide_background_color | default: 'rgba(0,0,0,0)' }};
      --action-button-bg-color: {{ section.settings.action_button_bg_color | default: '#121212' }};
      --action-button-text-color: {{ section.settings.action_button_text_color | default: '#ffffff' }};
      --action-button-hover-bg-color: {{ section.settings.action_button_hover_bg_color | default: '#333333' }};
      --action-button-hover-text-color: {{ section.settings.action_button_hover_text_color | default: '#ffffff' }};
      --action-button-border-color: {{ section.settings.action_button_border_color | default: '#121212' }};
      --action-button-hover-border-color: {{ section.settings.action_button_hover_border_color | default: '#333333' }};
      --heading-color: {{ section.settings.heading_color | default: '#000000' }};
      --heading-size: {{ section.settings.heading_size | default: 42 }}px;
      --heading-size-mobile: {{ section.settings.heading_size_mobile | default: 28 }}px;
      --heading-accent-color: {{ section.settings.heading_accent_color | default: '#19BDFF' }};
      --subtitle-color: {{ section.settings.subtitle_color | default: '#666666' }};
      --subtitle-size: {{ section.settings.subtitle_size | default: 18 }}px;
    {%- else -%}
      --before-label-bg-color: {{ section.settings.before_label_bg_color | default: '#e8e8e8' }};
      --before-label-text-color: {{ section.settings.before_label_text_color | default: '#000000' }};
      --after-label-bg-color: {{ section.settings.after_label_bg_color | default: '#19BDFF' }};
      --after-label-text-color: {{ section.settings.after_label_text_color | default: '#ffffff' }};
      --nav-button-bg-color: {{ section.settings.nav_button_bg_color | default: '#121212' }};
      --nav-button-text-color: {{ section.settings.nav_button_text_color | default: '#ffffff' }};
      --nav-button-hover-bg-color: {{ section.settings.nav_button_hover_bg_color | default: '#333333' }};
      --nav-button-hover-text-color: {{ section.settings.nav_button_hover_text_color | default: '#ffffff' }};
      --pagination-bullet-color: {{ section.settings.pagination_bullet_color | default: '#cccccc' }};
      --pagination-bullet-active-color: {{ section.settings.pagination_bullet_active_color | default: '#121212' }};
      --before-after-image-border-color: {{ section.settings.image_border_color | default: '#e0e0e0' }};
      --before-after-image-border-width: {{ section.settings.image_border_width | default: 0 }}px;
      --before-after-image-border-radius: {{ section.settings.image_border_radius | default: 6 }}px;
      --before-after-label-border-radius: {{ section.settings.label_border_radius | default: 6 }}px;
      --slide-background-color: {{ section.settings.slide_background_color | default: 'rgba(0,0,0,0)' }};
      --active-slide-background-color: {{ section.settings.active_slide_background_color | default: 'rgba(0,0,0,0)' }};
      --action-button-bg-color: {{ section.settings.action_button_bg_color | default: '#121212' }};
      --action-button-text-color: {{ section.settings.action_button_text_color | default: '#ffffff' }};
      --action-button-hover-bg-color: {{ section.settings.action_button_hover_bg_color | default: '#333333' }};
      --action-button-hover-text-color: {{ section.settings.action_button_hover_text_color | default: '#ffffff' }};
      --action-button-border-color: {{ section.settings.action_button_border_color | default: '#121212' }};
      --action-button-hover-border-color: {{ section.settings.action_button_hover_border_color | default: '#333333' }};
      --heading-color: {{ section.settings.heading_color | default: '#000000' }};
      --heading-size: {{ section.settings.heading_size | default: 42 }}px;
      --heading-size-mobile: {{ section.settings.heading_size_mobile | default: 28 }}px;
      --heading-accent-color: {{ section.settings.heading_accent_color | default: '#19BDFF' }};
      --subtitle-color: {{ section.settings.subtitle_color | default: '#666666' }};
      --subtitle-size: {{ section.settings.subtitle_size | default: 18 }}px;
    {%- endif -%}
  {%- endcapture -%}
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  
  {%- style -%}
      #shopify-section-{{ section.id }} {
          padding: 50px 40px;
          {{ section_style_variables }}
          touch-action: pan-y pinch-zoom;
          -webkit-tap-highlight-color: transparent;
          {% comment %} Simple section background color {% endcomment %}
          {% if section.settings.section_styling == 'default' and section.settings.simple_section_background != blank %}
            background-color: {{ section.settings.simple_section_background }} !important;
          {% endif %}
          {% comment %} Simple section borders {% endcomment %}
          {% if section.settings.section_styling == 'default' %}
            {% if section.settings.simple_enable_top_border %}
              border-top: {{ section.settings.simple_top_border_width | default: 1 }}px solid {{ section.settings.simple_top_border_color | default: '#e0e0e0' }} !important;
            {% endif %}
            {% if section.settings.simple_enable_bottom_border %}
              border-bottom: {{ section.settings.simple_bottom_border_width | default: 1 }}px solid {{ section.settings.simple_bottom_border_color | default: '#e0e0e0' }} !important;
            {% endif %}
          {% endif %}
          {% comment %} Section borders {% endcomment %}
          {% if section.settings.section_styling == 'custom' %}
            {% if section.settings.enable_top_border %}
              border-top: {{ section.settings.top_border_width | default: 1 }}px solid {{ section.settings.top_border_color | default: '#e0e0e0' }} !important;
            {% endif %}
            {% if section.settings.enable_bottom_border %}
              border-bottom: {{ section.settings.bottom_border_width | default: 1 }}px solid {{ section.settings.bottom_border_color | default: '#e0e0e0' }} !important;
            {% endif %}
          {% endif %}
      }
  
      #shopify-section-{{ section.id }} .section-slider {
          touch-action: pan-y pinch-zoom;
          -webkit-tap-highlight-color: transparent;
          width: 100%;
          overflow: hidden;
      }
      
      #shopify-section-{{ section.id }} .swiper-wrapper {
          display: flex;
          align-items: stretch;
          width: 100%;
      }
      
      /* Ensure proper display when only one slide is visible */
      #shopify-section-{{ section.id }} .swiper-wrapper:has(.swiper-slide:not([style*="display: none"]):only-of-type) {
          transform: none !important;
          justify-content: center;
      }
      
      /* Single slide visible state via JavaScript class */
      #shopify-section-{{ section.id }} .section-slider.single-slide-visible .swiper-wrapper {
          transform: translate3d(0px, 0px, 0px) !important;
          justify-content: center !important;
      }
      
      /* On mobile, single slide should be full width */
      @media screen and (max-width: 767px) {
          #shopify-section-{{ section.id }} .section-slider.single-slide-visible .swiper-slide {
              transform: translate3d(0px, 0px, 0px) !important;
              margin: 0 auto !important;
              max-width: 100% !important;
              width: 100% !important;
          }
      }
      
      /* On desktop, single slide should be 1/3 width (controlled by slidesPerView: 3) */
      @media screen and (min-width: 768px) {
          #shopify-section-{{ section.id }} .section-slider.single-slide-visible .swiper-slide {
              transform: translate3d(0px, 0px, 0px) !important;
          }
      }

      #shopify-section-{{ section.id }} .swiper-slide {
          box-sizing: border-box;
          display: grid;
          grid-template-columns: repeat(2, minmax(0, 1fr));
          gap: 4px;
          opacity: 1;
          /* Only fade opacity; avoid animating width/transform to prevent zoom/resize effect */
          transition: opacity .2s ease-in-out;
          background-color: var(--slide-background-color, rgba(0,0,0,0));
          border-radius: var(--before-after-image-border-radius, 6px);
          padding: 8px;
          will-change: opacity;
          touch-action: pan-y pinch-zoom;
          -webkit-tap-highlight-color: transparent;
          flex-shrink: 0;
          width: 100%;
          max-width: 100%;
          position: relative;
      }
      
      /* Prevent zoom/scaling issues when only one slide is visible */
      @media screen and (max-width: 767px) {
          #shopify-section-{{ section.id }} .swiper-slide:only-child,
          #shopify-section-{{ section.id }} .swiper-slide:first-child:last-child {
              transform: none !important;
              left: 0 !important;
              margin: 0 auto !important;
          }
      }

      #shopify-section-{{ section.id }} .swiper-slide .slide-container .image-container {
          transition: transform 0.2s ease-in-out;
      }

      #shopify-section-{{ section.id }} .swiper-slide.swiper-slide-active {
          background-color: var(--active-slide-background-color, rgba(0,0,0,0));
      }
  
      #shopify-section-{{ section.id }} .swiper-slide .slide-container {
          width: 100%;
          touch-action: pan-y pinch-zoom;
          -webkit-tap-highlight-color: transparent;
      }
  
      #shopify-section-{{ section.id }} .swiper-slide .slide-container .label {
          width: fit-content;
          padding: 3px 20px;
          letter-spacing: var(--letter-spacing-body);
          border-radius: var(--before-after-label-border-radius, 6px) var(--before-after-label-border-radius, 6px) 0 0;
          margin: 0 auto;
          font-size: 13px;
          font-weight: 600;
          user-select: none;
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          touch-action: none;
          -webkit-tap-highlight-color: transparent;
          pointer-events: none;
          cursor: default;
      }
  
      #shopify-section-{{ section.id }} .swiper-slide .slide-container.container--before .label {
          border: 1px solid var(--before-label-bg-color, #e8e8e8);
          background-color: var(--before-label-bg-color, #e8e8e8);
          color: var(--before-label-text-color, #000000);
      }
  
      #shopify-section-{{ section.id }} .swiper-slide .slide-container.container--after .label {
          border: 1px solid var(--after-label-bg-color, #19BDFF);
          background-color: var(--after-label-bg-color, #19BDFF);
          color: var(--after-label-text-color, #ffffff);
      }
  
      #shopify-section-{{ section.id }} .swiper-slide .slide-container .image-container {
          width: 100%;
          height: auto;
          aspect-ratio: 255 / 303;
          overflow: hidden;
          border-radius: var(--before-after-image-border-radius, 6px);
          border: var(--before-after-image-border-width, 0px) solid var(--before-after-image-border-color, #e0e0e0);
          touch-action: pan-y pinch-zoom;
          -webkit-tap-highlight-color: transparent;
          user-select: none;
          -webkit-user-select: none;
      }

      #shopify-section-{{ section.id }} .swiper-slide .slide-container .image-container > img {
          width: 100%;
          height: 100%;
          object-fit: cover;
          touch-action: pan-y pinch-zoom;
          -webkit-user-select: none;
          user-select: none;
          pointer-events: none;
      }
  
      #shopify-section-{{ section.id }} .slider-controls {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 20px;
          width: 100%;
          max-width: 750px;
          margin: 30px auto 0;
      }
  
      /* Ensure navigation buttons always visible */
      #shopify-section-{{ section.id }} .nav-button {
          visibility: visible !important;
          opacity: 1 !important;
          display: flex !important;
          pointer-events: auto !important;
      }

      /* Style disabled state but keep visible */
      #shopify-section-{{ section.id }} .nav-button.nav-button-disabled,
      #shopify-section-{{ section.id }} .nav-button.swiper-button-disabled {
          opacity: 0.35 !important;
          cursor: not-allowed !important;
          pointer-events: none !important;
      }
  
      /* Navigation buttons now use global-nav-button snippet */
  
      #shopify-section-{{ section.id }} .slider-pagination {
          text-align: center;
      }

      #shopify-section-{{ section.id }} .slider-pagination .swiper-pagination-bullet {
          background: var(--pagination-bullet-color, #cccccc);
          opacity: 1;
          transition: all 0.3s ease;
      }

      #shopify-section-{{ section.id }} .slider-pagination .swiper-pagination-bullet:hover {
          transform: scale(1.2);
      }

      #shopify-section-{{ section.id }} .slider-pagination .swiper-pagination-bullet-active {
          background: var(--pagination-bullet-active-color, #121212);
          transform: scale(1.3);
      }
  
      #shopify-section-{{ section.id }} .section-action-btn {
          display: flex;
          justify-content: center;
          margin: 30px auto 0;
      }
  
      #shopify-section-{{ section.id }} .section-action-btn .action-btn {
          text-decoration: none;
          font-weight: 600;
          width: fit-content;
          padding: 5px 30px;
          background-color: var(--action-button-bg-color, #121212);
          color: var(--action-button-text-color, #ffffff);
          border-radius: var(--section-button-radius, 999px);
          border: var(--section-button-border-width, 1px) solid var(--action-button-border-color, #121212);
          transition: all 0.3s ease;
      }

      #shopify-section-{{ section.id }} .section-action-btn .action-btn:hover {
          background-color: var(--action-button-hover-bg-color, #333333);
          color: var(--action-button-hover-text-color, #ffffff);
          border-color: var(--action-button-hover-border-color, #333333);
          transform: translateY(-2px);
          box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      }

      /* Header Styling */
      #shopify-section-{{ section.id }} .before-after-header {
          text-align: center;
          margin-bottom: 40px;
      }

      #shopify-section-{{ section.id }} .before-after-heading {
          color: var(--heading-color, #000000);
          font-size: var(--heading-size, 42px);
          font-weight: var(--font-weight-bold, 700);
          letter-spacing: var(--letter-spacing-heading, -0.02em);
          line-height: 1.2;
          margin: 0 0 16px 0;
          font-family: var(--font-heading-family);
      }

      #shopify-section-{{ section.id }} .before-after-heading .accent-text {
          padding: 2px 4px !important;
          margin: -2px -4px !important;
          display: inline-block !important;
          margin-left: {{ section.settings.accent_text_margin_left | default: 0 }}px !important;
          
          {% comment %} Color and gradient styling {% endcomment %}
          {% if section.settings.use_accent_gradient %}
            background: {{ section.settings.accent_text_gradient | default: 'linear-gradient(135deg, #19BDFF, #0EA5E9)' }} !important;
            -webkit-background-clip: text !important;
            -webkit-text-fill-color: transparent !important;
            background-clip: text !important;
            color: transparent !important;
            line-height: 1.3 !important;
          {% else %}
            color: {{ section.settings.heading_accent_color | default: '#19BDFF' }} !important;
          {% endif %}
          
          {% comment %} Typography styling - use global accent font {% endcomment %}
          font-family: var(--font-accent-family, var(--font-body-family)) !important;
          font-style: var(--font-accent-style, normal) !important;
          font-weight: var(--font-accent-weight, inherit) !important;
      }

      #shopify-section-{{ section.id }} .before-after-subtitle {
          color: var(--subtitle-color, #666666);
          font-size: var(--subtitle-size, 18px);
          font-weight: var(--font-weight-regular, 400);
          letter-spacing: var(--letter-spacing-body, 0);
          line-height: 1.5;
          margin: 0 auto 30px auto;
          max-width: 600px;
      }

      /* Category Filter Buttons */
      #shopify-section-{{ section.id }} .category-filters {
          display: flex;
          justify-content: center;
          align-items: center;
          gap: 12px;
          flex-wrap: wrap;
          margin: 0 auto 30px auto;
          max-width: 800px;
      }

      #shopify-section-{{ section.id }} .category-filter-btn {
          padding: 8px 20px;
          background-color: {{ section.settings.category_filter_bg_color | default: '#f5f5f5' }};
          color: {{ section.settings.category_filter_text_color | default: '#333333' }};
          border: {{ section.settings.category_filter_border_width | default: 2 }}px solid {{ section.settings.category_filter_border_color | default: '#e0e0e0' }};
          border-radius: {{ section.settings.category_filter_border_radius | default: 8 }}px;
          font-size: 14px;
          font-weight: var(--font-weight-semibold, 600);
          letter-spacing: var(--letter-spacing-body, 0);
          cursor: pointer;
          transition: all 0.3s ease;
          white-space: nowrap;
      }

      #shopify-section-{{ section.id }} .category-filter-btn:hover {
          background-color: {{ section.settings.category_filter_bg_color | default: '#f5f5f5' | color_darken: 10 }};
          border-color: {{ section.settings.category_filter_border_color | default: '#e0e0e0' | color_darken: 15 }};
          transform: translateY(-2px);
      }

      #shopify-section-{{ section.id }} .category-filter-btn.active {
          background-color: {{ section.settings.category_filter_active_bg_color | default: section.settings.heading_accent_color | default: '#19BDFF' }};
          color: {{ section.settings.category_filter_active_text_color | default: '#ffffff' }};
          border-color: {{ section.settings.category_filter_active_border_color | default: section.settings.heading_accent_color | default: '#19BDFF' }};
      }

      /* Mobile Responsive */
      @media screen and (max-width: 768px) {
          #shopify-section-{{ section.id }} .before-after-heading {
              font-size: var(--heading-size-mobile, 28px);
          }

          #shopify-section-{{ section.id }} .before-after-header {
              margin-bottom: 30px;
          }

          #shopify-section-{{ section.id }} .before-after-subtitle {
              font-size: calc(var(--subtitle-size, 18px) * 0.9);
              margin-bottom: 20px;
          }

          #shopify-section-{{ section.id }} .category-filters {
              gap: 8px;
              margin-bottom: 20px;
          }

          #shopify-section-{{ section.id }} .category-filter-btn {
              padding: 6px 16px;
              font-size: 13px;
          }
      }
  {%- endstyle -%}
  
  {%- style -%}
    #shopify-section-{{ section.id }} {
      {%- if is_custom_styling -%}
        padding: var(--section-padding-top, 50px) var(--section-padding-right, 0px) var(--section-padding-bottom, 50px) var(--section-padding-left, 0px);
        margin: var(--section-margin-top, 0px) var(--section-margin-right, 0px) var(--section-margin-bottom, 0px) var(--section-margin-left, 0px);
        {%- if section.settings.background_type == 'color' -%}
          background-color: var(--section-bg-color, transparent);
        {%- endif -%}
        {%- if section.settings.background_type == 'image' -%}
          background-image: var(--section-bg-image);
          background-size: cover;
          background-position: center;
          background-repeat: no-repeat;
        {%- endif -%}
        {%- if section.settings.background_type == 'gradient' -%}
          background: var(--section-bg-gradient);
        {%- endif -%}
        {%- unless desktop_visibility -%}
          display: none;
        {%- endunless -%}
      {%- else -%}
        padding: 50px 40px;
      {%- endif -%}
    }
  
    #shopify-section-{{ section.id }} .section-button {
          padding: 10px 20px;
          display: inline flex;
          transition: all .2s ease-in-out;
          text-decoration: none;
          line-height: 1;
  
      {%- if section.settings.button_style == 'custom' -%}
        font-size: var(--section-button-text-size);
        background-color: var(--section-button-color);
        color: var(--section-button-text-color);
        border-radius: var(--section-button-radius);
              border: var(--section-button-border-width) solid var(--section-button-border-color);
      {%- else -%}
              /* DEFAULT SETTINGS */
      {%- endif -%}
    }
  
    #shopify-section-{{ section.id }} .section-button:hover {
      {%- if section.settings.button_style == 'custom' -%}
        background-color: var(--section-button-color-hover);
        color: var(--section-button-text-color-hover);
        border-radius: var(--section-button-radius);
              border: var(--section-button-border-width) solid var(--section-button-border-color-hover);
      {%- else -%}
              /* DEFAULT SETTINGS */
      {%- endif -%}
    }
  
    #shopify-section-{{ section.id }} .section-border {
      {%- if section.settings.border_type != 'none' -%}
        border-style: var(--section-border-type);
        border-color: var(--section-border-color);
        border-top-width: var(--section-border-top-width);
        border-bottom-width: var(--section-border-bottom-width);
        border-left-width: var(--section-border-left-width);
        border-right-width: var(--section-border-right-width);
      {%- endif -%}
    }
  
    {%- if section.settings.heading_style == 'custom' -%}
      {{ heading_font | font_face }}
  
      #shopify-section-{{ section.id }} *[class*="main-title"] {
        font-family: var(--section-heading-family) !important;
        font-size: var(--section-heading-size, 16px);
        font-weight: var(--section-heading-weight, 400) !important;
        line-height: var(--section-heading-line-height, 1.2);
        color: var(--section-heading-color, #222) !important;
      }
    {%- endif -%}
  
    {%- if section.settings.body_style == 'custom' -%}
      {{ body_font | font_face }}
      #shopify-section-{{ section.id }} *:not([class*="main-title"]) {
        font-family: var(--section-body-family) !important;
        font-size: var(--section-body-text-size, 16px);
        font-weight: var(--section-body-text-weight, 400) !important;
        line-height: var(--section-body-text-line-height, 1.2);
        color: var(--section-body-text-color, #222);
      }
    {%- endif -%}
  
  
    #shopify-section-{{ section.id }} .section-inner {
      {%- if is_custom_styling -%}
        {%- if section.settings.section_width == 'full' -%}
          width: 100%;
          max-width: 100%;
          padding: 0;
        {%- elsif section.settings.section_width == 'custom' -%}
          width: 100%;
          max-width: var(--section-max-width, 1400px);
          margin: 0 auto;
        {%- else -%}
          max-width: 1400px;
          margin: 0 auto;
        {%- endif -%}
      {%- else -%}
        max-width: 1400px;
        margin: 0 auto;
      {%- endif -%}
    }
  
    @media screen and (max-width: 767px) {
      {%- if mobile_visibility == false -%}
        #shopify-section-{{ section.id }} {
          display: none;
        }
      {%- else -%}
        #shopify-section-{{ section.id }} {
          padding: 50px 15px;
        }
      {%- endif -%}
    }
  {%- endstyle -%}
  
  <div class="section-inner">
    {% if section.settings.heading != blank or section.settings.heading_accent != blank or section.settings.subtitle != blank %}
      <div class="before-after-header">
        {% if section.settings.heading != blank or section.settings.heading_accent != blank %}
          <h2 class="before-after-heading">
            {% if section.settings.heading != blank %}{{ section.settings.heading }}{% endif %}
            {% if section.settings.heading_accent != blank %}
              <span class="accent-text">{{ section.settings.heading_accent }}</span>
            {% endif %}
          </h2>
        {% endif %}
        
        {% if section.settings.subtitle != blank %}
          <div class="before-after-subtitle">
            {{ section.settings.subtitle }}
          </div>
        {% endif %}
      </div>
    {% endif %}

    {%- comment -%} Category Filter Buttons {%- endcomment -%}
    {%- assign categories = '' -%}
    {%- for block in section.blocks -%}
      {%- assign category = block.settings.category | default: 'General' -%}
      {%- unless categories contains category -%}
        {%- if categories == '' -%}
          {%- assign categories = category -%}
        {%- else -%}
          {%- assign categories = categories | append: ',' | append: category -%}
        {%- endif -%}
      {%- endunless -%}
    {%- endfor -%}
    
    {%- assign category_array = categories | split: ',' -%}
    {%- if category_array.size > 1 -%}
      <div class="category-filters">
        <button class="category-filter-btn active" data-category="all">All</button>
        {%- for category in category_array -%}
          <button class="category-filter-btn" data-category="{{ category | handleize }}">{{ category }}</button>
        {%- endfor -%}
      </div>
    {%- endif -%}
    
    <div class="section-slider swiper">
          <div class="swiper-wrapper">
              {%- for block in section.blocks -%}
                  {%- liquid 
                      assign this = block.settings
                      assign before_label = this.before_label
                      assign after_label = this.after_label
                      assign before_image = this.before_image
                      assign after_image = this.after_image
                      assign category = this.category | default: 'General'
                  -%}
                  <div class="swiper-slide" data-category="{{ category | handleize }}" {{  block.shopify_attributes }}>
                      <div class="slide-container container--before">
                          <div class="label">{{ before_label }}</div>
                          <div class="image-container before-image">
                              {%- if before_image -%}
                                  {{ before_image | image_url: width: 640 | image_tag: class: 'block-image before' }}
                              {%- else -%}
                                  <img src="https://placehold.co/255x303" width="255" height="303" alt="placeholder image" class="block-image placeholder-image" />
                              {%- endif -%}
                          </div>
                      </div>
                      <div class="slide-container container--after">
                          <div class="label">{{ after_label }}</div>
                          <div class="image-container after-image">
                              {%- if after_image -%}
                                  {{ after_image | image_url: width: 640 | image_tag: class: 'block-image after' }}
                              {%- else -%}
                                  <img src="https://placehold.co/255x303" width="255" height="303" alt="placeholder image" class="block-image placeholder-image" />
                              {%- endif -%}
                          </div>
                      </div>
                  </div>
              {%- endfor -%}
          </div>
      </div>
      <div class="slider-controls">
          {% render 'global-nav-button', 
            direction: 'prev', 
            aria_label: 'Previous slide',
            use_global: section.settings.use_global_nav_buttons,
            section_settings: section.settings
          %}
          <div class="slider-pagination"></div>
          {% render 'global-nav-button', 
            direction: 'next', 
            aria_label: 'Next slide',
            use_global: section.settings.use_global_nav_buttons,
            section_settings: section.settings
          %}
      </div>
      {%- if section.settings.button_link != blank -%}
          <div class="section-action-btn">
              <a href="{{ section.settings.button_link }}" class="action-btn">
                  {{ section.settings.button_text }}
              </a>
          </div>
      {%- endif -%}
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js" defer></script>
  <script>
      const {{ section.id | replace: '-', '_' }}_function = () => {
          const section = document.querySelector('#shopify-section-{{ section.id }}');
  
          if(!section) return;
  
          // Wait for images to load before initializing Swiper
          const images = section.querySelectorAll('img');
          const imagePromises = Array.from(images).map(img => {
              if (img.complete) return Promise.resolve();
              return new Promise(resolve => {
                  img.addEventListener('load', resolve);
                  img.addEventListener('error', resolve);
              });
          });
  
          Promise.all(imagePromises).then(() => {
              initializeSlider();
          });
          
          // Also initialize immediately (will be overridden if images are still loading)
          setTimeout(() => initializeSlider(), 100);
          
          function initializeSlider() {
              const slider = section.querySelector('.section-slider');
              const prev = section.querySelector('.nav-button.prev');
              const next = section.querySelector('.nav-button.next');
              const pagination = section.querySelector('.slider-pagination');
              const filterButtons = section.querySelectorAll('.category-filter-btn');
              const allSlides = section.querySelectorAll('.swiper-slide');

          // Prevent double-tap zoom on all interactive elements
          let lastTouchEnd = 0;
          section.addEventListener('touchend', function(event) {
              const now = Date.now();
              if (now - lastTouchEnd <= 300) {
                  event.preventDefault();
              }
              lastTouchEnd = now;
          }, { passive: false });

          // Prevent zoom on labels specifically
          const labels = section.querySelectorAll('.label');
          labels.forEach(label => {
              label.addEventListener('click', function(e) {
                  e.preventDefault();
                  e.stopPropagation();
              });
              label.addEventListener('touchstart', function(e) {
                  e.stopPropagation();
              }, { passive: true });
          });
  
        // Count visible slides to determine if loop should be enabled
        const getVisibleSlidesCount = () => {
            return Array.from(allSlides).filter(slide => slide.style.display !== 'none').length;
        };
        
        const visibleCount = getVisibleSlidesCount();
        const isDesktop = window.innerWidth >= 768;
        // Only use loop on mobile/tablet where slidesPerView is 1,
        // never on desktop (slidesPerView: 3) to avoid centering/offset issues
        const shouldLoop = !isDesktop && visibleCount > 1;
          
        const options = {
            slidesPerView: 1,
            spaceBetween: 30,
            loop: shouldLoop,
            centeredSlides: true,
              // Always start at the first slide
              initialSlide: 0,
              // For loop mode, tell Swiper how many slides to duplicate
              loopedSlides: shouldLoop ? visibleCount : undefined,
              navigation: {
                  prevEl: prev,
                  nextEl: next,
                  hideOnClick: false,
                  disabledClass: 'nav-button-disabled'
              },
              pagination: {
                  el: pagination,
                  clickable: true
              },
            breakpoints: {
                768: {
                    slidesPerView: 3,
                    centeredSlides: false,
                    spaceBetween: 30,
                }
            },
              // Ensure slides are properly positioned
              watchSlidesProgress: true,
              watchSlidesVisibility: true,
              observeParents: true,
              observer: true,
              // Add init callback to handle single slide positioning
              on: {
                  init: function() {
                      const currentVisibleCount = getVisibleSlidesCount();
                      if (currentVisibleCount === 1) {
                          slider.classList.add('single-slide-visible');
                          const visibleSlide = Array.from(allSlides).find(slide => slide.style.display !== 'none');
                          if (visibleSlide) {
                              visibleSlide.style.transform = 'translate3d(0px, 0px, 0px)';
                              
                              // Only set full width on mobile
                              if (window.innerWidth < 768) {
                                  visibleSlide.style.width = '100%';
                              }
                              
                              const swiperWrapper = slider.querySelector('.swiper-wrapper');
                              if (swiperWrapper) {
                                  swiperWrapper.style.transform = 'translate3d(0px, 0px, 0px)';
                              }
                          }
                      }
                  },
                  resize: function() {
                      this.update();
                  }
              }
          }
  
          let swiper = new Swiper(slider, options);
          
          // Force update after initialization to ensure proper positioning
          setTimeout(() => {
              if (swiper) {
                  swiper.update();
                  // On desktop, ensure we're showing from the start
                  if (window.innerWidth >= 768 && visibleCount >= 3) {
                      swiper.slideTo(0, 0);
                  }
              }
          }, 100);
          
          // Handle single slide on initial load
          if (visibleCount === 1) {
              slider.classList.add('single-slide-visible');
              
              requestAnimationFrame(() => {
                  const visibleSlide = Array.from(allSlides).find(slide => slide.style.display !== 'none');
                  if (visibleSlide) {
                      visibleSlide.style.transform = 'translate3d(0px, 0px, 0px)';
                      visibleSlide.style.opacity = '1';
                      
                      // Only set full width on mobile
                      if (window.innerWidth < 768) {
                          visibleSlide.style.width = '100%';
                          visibleSlide.style.margin = '0 auto';
                      }
                      
                      const swiperWrapper = slider.querySelector('.swiper-wrapper');
                      if (swiperWrapper) {
                          swiperWrapper.style.transform = 'translate3d(0px, 0px, 0px)';
                          swiperWrapper.style.justifyContent = 'center';
                      }
                      
                      swiper.update();
                  }
              });
          }

          // Category Filter Functionality
          if (filterButtons.length > 0) {
              filterButtons.forEach(button => {
                  button.addEventListener('click', function() {
                      const selectedCategory = this.getAttribute('data-category');
                      
                      // Update active button
                      filterButtons.forEach(btn => btn.classList.remove('active'));
                      this.classList.add('active');
                      
                    // Filter slides first (before destroying swiper)
                    allSlides.forEach(slide => {
                        const slideCategory = slide.getAttribute('data-category');
                        if (selectedCategory === 'all' || slideCategory === selectedCategory) {
                            slide.style.display = 'grid';
                            // Prepare for fade-in animation
                            slide.style.opacity = '0';
                        } else {
                            slide.style.display = 'none';
                        }
                    });
                      
                      // Destroy existing swiper
                      if (swiper) {
                          swiper.destroy(false, false);
                      }
                      
                      // Reset slider state before re-initializing
                      const swiperWrapper = slider.querySelector('.swiper-wrapper');
                      
                      // Clear transforms and inline sizing so new Swiper instance starts clean
                      allSlides.forEach(slide => {
                          // Do not touch display here; it's controlled by the filter logic above
                          slide.style.transform = '';
                          slide.style.width = '';
                          slide.style.margin = '';
                          slide.style.opacity = '';
                      });
                      
                      if (swiperWrapper) {
                          swiperWrapper.style.transform = '';
                          swiperWrapper.style.justifyContent = '';
                      }
                      
                      // Ensure single-slide state is cleared; it will be re-applied if needed
                      slider.classList.remove('single-slide-visible');
                      
                    // Recalculate visible slides count after filtering
                    const filteredVisibleCount = getVisibleSlidesCount();
                    const isDesktopFiltered = window.innerWidth >= 768;
                    const filteredShouldLoop = !isDesktopFiltered && filteredVisibleCount > 1;
                      
                      // Update options with new slide count
                        const filteredOptions = {
                            ...options,
                            loop: filteredShouldLoop,
                            initialSlide: 0,
                            loopedSlides: filteredShouldLoop ? filteredVisibleCount : undefined,
                            navigation: {
                                prevEl: prev,
                                nextEl: next,
                                hideOnClick: false,
                                disabledClass: 'nav-button-disabled'
                            },
                            breakpoints: {
                                768: {
                                    slidesPerView: 3,
                                    centeredSlides: false,
                                    spaceBetween: 30,
                                }
                            }
                        };
                      
                      // Reinitialize swiper with filtered slides immediately
                      // Use requestAnimationFrame for smoother transition
                      requestAnimationFrame(() => {
                          swiper = new Swiper(slider, filteredOptions);
                          
                          // Special handling for single slide to prevent zoom/centering issues
                          if (filteredVisibleCount === 1) {
                              slider.classList.add('single-slide-visible');
                              
                              requestAnimationFrame(() => {
                                  const visibleSlide = Array.from(allSlides).find(slide => slide.style.display !== 'none');
                                  if (visibleSlide) {
                                      // Reset any transforms that might cause zoom
                                      visibleSlide.style.transform = 'translate3d(0px, 0px, 0px)';
                                      
                                      // Only set full width on mobile
                                      if (window.innerWidth < 768) {
                                          visibleSlide.style.width = '100%';
                                          visibleSlide.style.margin = '0 auto';
                                      } else {
                                          // Remove inline width on desktop to let Swiper control it
                                          visibleSlide.style.width = '';
                                          visibleSlide.style.margin = '';
                                      }
                                      
                                      // Ensure the swiper wrapper is properly sized
                                      const swiperWrapper = slider.querySelector('.swiper-wrapper');
                                      if (swiperWrapper) {
                                          swiperWrapper.style.transform = 'translate3d(0px, 0px, 0px)';
                                          swiperWrapper.style.justifyContent = 'center';
                                      }
                                  }
                              });
                          } else {
                              slider.classList.remove('single-slide-visible');
                          }
                          
                          // Fade in all currently visible slides
                          requestAnimationFrame(() => {
                              Array.from(allSlides).forEach(slide => {
                                  if (slide.style.display !== 'none') {
                                      slide.style.opacity = '1';
                                  }
                              });
                          });
                      });
                  });
              });
          }
          } // End initializeSlider function
      }
  
      window.addEventListener('DOMContentLoaded', {{ section.id | replace: '-', '_' }}_function);
      window.addEventListener('shopify:section:load', {{ section.id | replace: '-', '_' }}_function);
      window.addEventListener('shopify:section:unload', {{ section.id | replace: '-', '_' }}_function);
      window.addEventListener('shopify:section:select', {{ section.id | replace: '-', '_' }}_function);
      window.addEventListener('shopify:section:deselect', {{ section.id | replace: '-', '_' }}_function);
      window.addEventListener('shopify:section:reorder', {{ section.id | replace: '-', '_' }}_function);
      window.addEventListener('shopify:block:load', {{ section.id | replace: '-', '_' }}_function);
      window.addEventListener('shopify:block:unload', {{ section.id | replace: '-', '_' }}_function);
      window.addEventListener('shopify:block:select', {{ section.id | replace: '-', '_' }}_function);
      window.addEventListener('shopify:block:deselect', {{ section.id | replace: '-', '_' }}_function);
  </script>
  
  {%- if is_custom_styling -%}
    <script>
      document.querySelector('#shopify-section-{{ section.id }}').setAttribute('style', `{{ section_style_variables }}`);
    </script>
  {%- endif -%}
  {% if custom_css != blank %}
    <style>
      #shopify-section-{{ section.id }} { {{ custom_css }} }
    </style>
  {% endif %}
  {% if custom_js != blank %}
    <script>
      {{ custom_js }}
    </script>
  {% endif %}
  
  {%- schema -%}
      {
          "name": "Before & After Slider",
          "class": "cstm-before-and-after-slider",
          "settings": [
              {
          "type": "select",
          "id": "settings_tab",
          "label": "Setting Tabs",
          "info": "Choose which settings group to configure:  General settings,  Style settings, or  Advanced settings.",
          "options": [
            { "label": "", "value": "general" },
            { "label": "", "value": "styles" },
            { "label": "", "value": "advance" }
          ],
          "default": "general"
        },
  
        /* -------------------
          GENERAL SETTINGS
        ------------------- */
        {
          "type": "header",
          "content": " General Settings",
          "visible_if": "{{ section.settings.settings_tab == 'general' }}"
        },
        {
          "type": "header",
          "content": "Header Content",
          "visible_if": "{{ section.settings.settings_tab == 'general' }}"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Before & After",
          "visible_if": "{{ section.settings.settings_tab == 'general' }}"
        },
        {
          "type": "range",
          "id": "heading_size",
          "min": 24,
          "max": 60,
          "step": 2,
          "default": 42,
          "label": "Heading Size (Desktop)",
          "visible_if": "{{ section.settings.settings_tab == 'general' }}"
        },
        {
          "type": "range",
          "id": "heading_size_mobile",
          "min": 20,
          "max": 60,
          "step": 2,
          "default": 28,
          "label": "Heading Size (Mobile)",
          "visible_if": "{{ section.settings.settings_tab == 'general' }}"
        },
        {
          "type": "text",
          "id": "heading_accent",
          "label": "Heading Accent Text",
          "default": "Results",
          "info": "Optional accent text to highlight part of the heading",
          "visible_if": "{{ section.settings.settings_tab == 'general' }}"
        },
        {
          "type": "checkbox",
          "id": "use_accent_gradient",
          "label": "Use Gradient for Accent Text",
          "default": false,
          "info": "Apply a gradient effect to the accent text",
          "visible_if": "{{ section.settings.settings_tab == 'general' }}"
        },
        {
          "type": "color_background",
          "id": "accent_text_gradient",
          "label": "Accent Text Gradient",
          "default": "linear-gradient(135deg, #19BDFF, #0EA5E9)",
          "info": "Gradient for accent text (only used when gradient is enabled)",
          "visible_if": "{{ section.settings.settings_tab == 'general' }}"
        },
        {
          "type": "range",
          "id": "accent_text_margin_left",
          "min": -10,
          "max": 50,
          "step": 1,
          "unit": "px",
          "label": "Accent Text Left Margin",
          "default": 0,
          "info": "Spacing between regular heading and accent text",
          "visible_if": "{{ section.settings.settings_tab == 'general' }}"
        },
        {
          "type": "textarea",
          "id": "subtitle",
          "label": "Subtitle",
          "default": "See the amazing transformations and results from our treatments.",
          "info": "Optional subtitle text to appear below the heading",
          "visible_if": "{{ section.settings.settings_tab == 'general' }}"
        },
        {
          "type": "range",
          "id": "subtitle_size",
          "min": 14,
          "max": 24,
          "step": 1,
          "default": 18,
          "label": "Subtitle Size (px)",
          "visible_if": "{{ section.settings.settings_tab == 'general' }}"
        },
        {
          "type": "color",
          "id": "heading_color",
          "label": "Heading Color",
          "default": "#000000",
          "visible_if": "{{ section.settings.settings_tab == 'general' }}"
        },
        {
          "type": "color",
          "id": "subtitle_color",
          "label": "Subtitle Color",
          "default": "#666666",
          "visible_if": "{{ section.settings.settings_tab == 'general' }}"
        },
        {
          "type": "color",
          "id": "heading_accent_color",
          "label": "Heading Accent Color",
          "default": "#19BDFF",
          "visible_if": "{{ section.settings.settings_tab == 'general' }}"
        },
        {
          "type": "header",
          "content": "Button Settings",
          "visible_if": "{{ section.settings.settings_tab == 'general' }}"
        },
              {
                  "type": "inline_richtext",
                  "id": "button_text",
                  "label": "Button text",
                  "default": "See Our Reviews"
              },
              {
                  "type": "url",
                  "id": "button_link",
                  "label": "Button Link",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "header",
                  "content": "Label Styling",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "before_label_bg_color",
                  "label": "Before label background color",
                  "default": "#e8e8e8",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "before_label_text_color",
                  "label": "Before label text color",
                  "default": "#000000",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "after_label_bg_color",
                  "label": "After label background color",
                  "default": "#19BDFF",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "after_label_text_color",
                  "label": "After label text color",
                  "default": "#ffffff",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "range",
                  "id": "label_border_radius",
                  "min": 0,
                  "max": 20,
                  "step": 1,
                  "unit": "px",
                  "label": "Label border radius",
                  "default": 6,
                  "info": "Rounded corners for both before and after labels",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "header",
                  "content": "Navigation Controls",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "checkbox",
                  "id": "use_global_nav_buttons",
                  "label": "Use Global Navigation Button Styling",
                  "default": true,
                  "info": "Use global navigation button settings from theme settings. When disabled, use section-specific settings below.",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "paragraph",
                  "content": "Custom Navigation Button Styling (only applies when 'Use Global Navigation Button Styling' is disabled)",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "nav_button_bg_color",
                  "label": "Navigation button background",
                  "default": "#121212",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "nav_button_text_color",
                  "label": "Navigation button icon color",
                  "default": "#ffffff",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "nav_button_hover_bg_color",
                  "label": "Navigation button hover background",
                  "default": "#333333",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "nav_button_hover_text_color",
                  "label": "Navigation button hover icon color",
                  "default": "#ffffff",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "pagination_bullet_color",
                  "label": "Pagination bullet color",
                  "default": "#cccccc",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "pagination_bullet_active_color",
                  "label": "Active pagination bullet color",
                  "default": "#121212",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "header",
                  "content": "Image Styling",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "image_border_color",
                  "label": "Image border color",
                  "default": "#e0e0e0",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "range",
                  "id": "image_border_width",
                  "min": 0,
                  "max": 10,
                  "step": 1,
                  "unit": "px",
                  "label": "Image border width",
                  "default": 0,
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "range",
                  "id": "image_border_radius",
                  "min": 0,
                  "max": 30,
                  "step": 2,
                  "unit": "px",
                  "label": "Image border radius",
                  "default": 6,
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "header",
                  "content": "Slide Styling",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "slide_background_color",
                  "label": "Slide background color",
                  "default": "rgba(0,0,0,0)",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "active_slide_background_color",
                  "label": "Active slide background color",
                  "default": "rgba(0,0,0,0)",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "header",
                  "content": "Category Filter Styling",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "category_filter_bg_color",
                  "label": "Filter button background",
                  "default": "#f5f5f5",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "category_filter_text_color",
                  "label": "Filter button text color",
                  "default": "#333333",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "category_filter_active_bg_color",
                  "label": "Active filter background",
                  "default": "#19BDFF",
                  "info": "Uses heading accent color by default",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "category_filter_active_text_color",
                  "label": "Active filter text color",
                  "default": "#ffffff",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "range",
                  "id": "category_filter_border_radius",
                  "min": 0,
                  "max": 50,
                  "step": 2,
                  "unit": "px",
                  "label": "Filter button border radius",
                  "default": 8,
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "range",
                  "id": "category_filter_border_width",
                  "min": 0,
                  "max": 5,
                  "step": 1,
                  "unit": "px",
                  "label": "Filter button border width",
                  "default": 2,
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "category_filter_border_color",
                  "label": "Filter button border color",
                  "default": "#e0e0e0",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "category_filter_active_border_color",
                  "label": "Active filter border color",
                  "default": "#19BDFF",
                  "info": "Border color for the selected category",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "header",
                  "content": "Action Button Colors",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "action_button_bg_color",
                  "label": "Action button background",
                  "default": "#121212",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "action_button_text_color",
                  "label": "Action button text color",
                  "default": "#ffffff",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "action_button_hover_bg_color",
                  "label": "Action button hover background",
                  "default": "#333333",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "action_button_hover_text_color",
                  "label": "Action button hover text color",
                  "default": "#ffffff",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "action_button_border_color",
                  "label": "Action button border color",
                  "default": "#121212",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
              {
                  "type": "color",
                  "id": "action_button_hover_border_color",
                  "label": "Action button hover border color",
                  "default": "#333333",
                  "visible_if": "{{ section.settings.settings_tab == 'general' }}"
              },
  
        /* -------------------
          STYLES SETTINGS
        ------------------- */
        {
          "type": "header",
          "content": " Styles Settings",
          "visible_if": "{{ section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "header",
          "content": "Section Defaults",
          "visible_if": "{{ section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "select",
          "id": "section_styling",
          "label": "Section Styling",
          "default": "default",
          "options": [
            { "label": "Default", "value": "default" },
            { "label": "Custom", "value": "custom" }
          ],
          "visible_if": "{{ section.settings.settings_tab == 'styles' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "header",
          "content": "Section Width",
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "select",
          "id": "section_width",
          "label": "Section width",
          "default": "default",
          "options": [
            { "label": "Default", "value": "default" },
            { "label": "Full", "value": "full" },
            { "label": "Custom", "value": "custom" }
          ],
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "number",
          "id": "custom_section_width",
          "label": "Custom width",
          "default": 1400,
          "visible_if": "{{ section.settings.section_width == 'custom' and section.settings.settings_tab == 'styles' and section.settings.section_styling == 'custom' }}"
        },
        {
          "type": "header",
          "content": "Background",
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "select",
          "id": "background_type",
          "label": "Background Type",
          "default": "default",
          "options": [
            { "label": "Default", "value": "default" },
            { "label": "Color", "value": "color" },
            { "label": "Image", "value": "image" },
            { "label": "Gradient", "value": "gradient" }
          ],
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "color",
          "id": "bg_color",
          "label": "Background color",
          "visible_if": "{{ section.settings.background_type == 'color' and section.settings.settings_tab == 'styles' and section.settings.section_styling == 'custom' }}"
        },
        {
          "type": "image_picker",
          "id": "bg_image",
          "label": "Background image",
          "visible_if": "{{ section.settings.background_type == 'image' and section.settings.settings_tab == 'styles' and section.settings.section_styling == 'custom' }}"
        },
        {
          "type": "color_background",
          "id": "bg_gradient",
          "label": "Gradient background",
          "visible_if": "{{ section.settings.background_type == 'gradient' and section.settings.settings_tab == 'styles' and section.settings.section_styling == 'custom' }}"
        },
        {
          "type": "header",
          "content": "Section Background (Simple)",
          "visible_if": "{{ section.settings.section_styling == 'default' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "color",
          "id": "simple_section_background",
          "label": "Section Background Color",
          "default": "#FFFFFF",
          "info": "Background color for the entire section",
          "visible_if": "{{ section.settings.section_styling == 'default' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "header",
          "content": "Heading",
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "select",
          "id": "heading_style",
          "label": "Heading style",
          "default": "default",
          "options": [
            {
              "label": "Default",
              "value": "default"
            },
            {
              "label": "Custom",
              "value": "custom"
            }
          ],
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "font_picker",
          "id": "heading_font",
          "label": "Font",
          "default": "inter_n7",
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' and section.settings.heading_style == 'custom' }}"
        },
        {
          "type": "number",
          "id": "heading_text_size",
          "label": "Font size",
          "default": 40,
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' and section.settings.heading_style == 'custom' }}"
        },
        {
          "type": "range",
          "id": "heading_text_line_height",
          "label": "Line height",
          "default": 1.2,
          "min": 0,
          "max": 10,
          "step": 0.1,
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' and section.settings.heading_style == 'custom' }}"
        },
        {
          "type": "color",
          "id": "heading_text_color",
          "label": "Text color",
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' and section.settings.heading_style == 'custom' }}"
        },
        {
          "type": "header",
          "content": "Body text",
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "select",
          "id": "body_style",
          "label": "Body style",
          "default": "default",
          "options": [
            {
              "label": "Default",
              "value": "default"
            },
            {
              "label": "Custom",
              "value": "custom"
            }
          ],
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "font_picker",
          "id": "body_font",
          "label": "Font",
          "default": "inter_n4",
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' and section.settings.body_style == 'custom' }}"
        },
        {
          "type": "number",
          "id": "body_text_size",
          "label": "Font size",
          "default": 16,
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' and section.settings.body_style == 'custom' }}"
        },
        {
          "type": "range",
          "id": "body_text_line_height",
          "label": "Line height",
          "default": 1.2,
          "min": 0,
          "max": 10,
          "step": 0.1,
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' and section.settings.body_style == 'custom' }}"
        },
        {
          "type": "color",
          "id": "body_text_color",
          "label": "Text color",
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' and section.settings.body_style == 'custom' }}"
        },
        {
          "type": "header",
          "content": "Buttons",
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "select",
          "id": "button_style",
          "label": "Button style",
          "default": "default",
          "options": [
            {
              "label": "Default",
              "value": "default"
            },
            {
              "label": "Custom",
              "value": "custom"
            }
          ],
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "number",
          "id": "button_text_size",
          "label": "Text size",
          "default": 20,
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' and section.settings.button_style == 'custom' }}"
        },
        {
          "type": "color",
          "id": "button_text_color",
          "label": "Text color",
          "default": "#ffffff",
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' and section.settings.button_style == 'custom' }}"
        },
        {
          "type": "color",
          "id": "button_color",
          "label": "Button color",
          "default": "#121212",
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' and section.settings.button_style == 'custom' }}"
        },
        {
          "type": "color",
          "id": "button_text_color_hover",
          "label": "[On hover] Text color",
          "default": "#000000",
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' and section.settings.button_style == 'custom' }}"
        },
        {
          "type": "color",
          "id": "button_color_hover",
          "label": "[On hover] Button color",
          "default": "#ffffff",
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' and section.settings.button_style == 'custom' }}"
        },
              {
                  "type": "number",
                  "id": "button_border_width",
                  "label": "Button border width",
                  "default": 1,
                  "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' and section.settings.button_style == 'custom' }}"
              },
              {
                  "type": "color",
                  "id": "button_border_color",
                  "label": "Button border color",
                  "alpha": true,
                  "default": "#000000",
                  "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' and section.settings.button_style == 'custom' }}"
              },
              {
                  "type": "color",
                  "id": "button_border_color_hover",
                  "label": "[On hover] Button border color",
                  "alpha": true,
                  "default": "#000000",
                  "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' and section.settings.button_style == 'custom' }}"
              },
        {
          "type": "number",
          "id": "button_radius",
          "label": "Button corner radius",
          "default": 0,
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' and section.settings.button_style == 'custom' }}"
        },
        {
          "type": "header",
          "content": "Border",
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "select",
          "id": "border_type",
          "label": "Border type",
          "default": "none",
          "options": [
            {
              "label": "None",
              "value": "none"
            },
            {
              "label": "Solid",
              "value": "solid"
            },
            {
              "label": "Dotted",
              "value": "dotted"
            },
            {
              "label": "Dashed",
              "value": "dashed"
            }
          ],
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "color",
          "id": "border_color",
          "label": "Border color",
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' and section.settings.border_type != 'none' }}"
        },
        {
          "type": "number",
          "id": "border_width_top",
          "label": "Border top width",
          "default": 1,
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' and section.settings.border_type != 'none' }}"
        },
        {
          "type": "number",
          "id": "border_width_bottom",
          "label": "Border bottom width",
          "default": 1,
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' and section.settings.border_type != 'none' }}"
        },
        {
          "type": "number",
          "id": "border_width_left",
          "label": "Border left width",
          "default": 1,
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' and section.settings.border_type != 'none' }}"
        },
        {
          "type": "number",
          "id": "border_width_right",
          "label": "Border right width",
          "default": 1,
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' and section.settings.border_type != 'none' }}"
        },
        {
          "type": "header",
          "content": "Section Borders",
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "checkbox",
          "id": "enable_top_border",
          "label": "Enable top border",
          "default": false,
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "range",
          "id": "top_border_width",
          "min": 1,
          "max": 10,
          "step": 1,
          "unit": "px",
          "label": "Top border width",
          "default": 1,
          "visible_if": "{{ section.settings.enable_top_border and section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "color",
          "id": "top_border_color",
          "label": "Top border color",
          "default": "#e0e0e0",
          "visible_if": "{{ section.settings.enable_top_border and section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "checkbox",
          "id": "enable_bottom_border",
          "label": "Enable bottom border",
          "default": false,
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "range",
          "id": "bottom_border_width",
          "min": 1,
          "max": 10,
          "step": 1,
          "unit": "px",
          "label": "Bottom border width",
          "default": 1,
          "visible_if": "{{ section.settings.enable_bottom_border and section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "color",
          "id": "bottom_border_color",
          "label": "Bottom border color",
          "default": "#e0e0e0",
          "visible_if": "{{ section.settings.enable_bottom_border and section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "header",
          "content": "Section Borders (Simple)",
          "visible_if": "{{ section.settings.section_styling == 'default' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "checkbox",
          "id": "simple_enable_top_border",
          "label": "Enable top border",
          "default": false,
          "visible_if": "{{ section.settings.section_styling == 'default' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "range",
          "id": "simple_top_border_width",
          "min": 1,
          "max": 10,
          "step": 1,
          "unit": "px",
          "label": "Top border width",
          "default": 1,
          "visible_if": "{{ section.settings.simple_enable_top_border and section.settings.section_styling == 'default' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "color",
          "id": "simple_top_border_color",
          "label": "Top border color",
          "default": "#e0e0e0",
          "visible_if": "{{ section.settings.simple_enable_top_border and section.settings.section_styling == 'default' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "checkbox",
          "id": "simple_enable_bottom_border",
          "label": "Enable bottom border",
          "default": false,
          "visible_if": "{{ section.settings.section_styling == 'default' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "range",
          "id": "simple_bottom_border_width",
          "min": 1,
          "max": 10,
          "step": 1,
          "unit": "px",
          "label": "Bottom border width",
          "default": 1,
          "visible_if": "{{ section.settings.simple_enable_bottom_border and section.settings.section_styling == 'default' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "color",
          "id": "simple_bottom_border_color",
          "label": "Bottom border color",
          "default": "#e0e0e0",
          "visible_if": "{{ section.settings.simple_enable_bottom_border and section.settings.section_styling == 'default' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "header",
          "content": "Padding",
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "number",
          "id": "padding_top",
          "label": "Top",
          "default": 0,
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "number",
          "id": "padding_bottom",
          "label": "Bottom",
          "default": 0,
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "number",
          "id": "padding_left",
          "label": "Left",
          "default": 0,
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "number",
          "id": "padding_right",
          "label": "Right",
          "default": 0,
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "header",
          "content": "Margin",
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "number",
          "id": "margin_top",
          "label": "Top",
          "default": 0,
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "number",
          "id": "margin_bottom",
          "label": "Bottom",
          "default": 0,
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "number",
          "id": "margin_left",
          "label": "Left",
          "default": 0,
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
        {
          "type": "number",
          "id": "margin_right",
          "label": "Right",
          "default": 0,
          "visible_if": "{{ section.settings.section_styling == 'custom' and section.settings.settings_tab == 'styles' }}"
        },
  
        /* -------------------
          ADVANCE SETTINGS
        ------------------- */
        {
          "type": "header",
          "content": " Advanced Settings",
          "visible_if": "{{ section.settings.settings_tab == 'advance' }}"
        },
        {
          "type": "textarea",
          "id": "custom_css",
          "label": "Custom CSS",
          "visible_if": "{{ section.settings.settings_tab == 'advance' }}"
        },
        {
          "type": "textarea",
          "id": "custom_js",
          "label": "Custom JS",
          "info": "Add your own JavaScript code here. Make sure the code is valid  incorrect scripts may affect the functionality of this section.",
          "visible_if": "{{ section.settings.settings_tab == 'advance' }}"
        },
        {
          "type": "checkbox",
          "id": "show_on_desktop",
          "label": "Show on desktop",
          "default": true,
          "visible_if": "{{ section.settings.settings_tab == 'advance' }}"
        },
        {
          "type": "checkbox",
          "id": "show_on_mobile",
          "label": "Show on mobile",
          "default": true,
          "visible_if": "{{ section.settings.settings_tab == 'advance' }}"
        }
          ],
          "blocks": [
              {
                  "type": "before_and_after",
                  "name": "Before and After",
                  "settings": [
                      {
                          "type": "header",
                          "content": "Before"
                      },
                      {
                          "type": "inline_richtext",
                          "id": "before_label",
                          "label": "Label",
                          "default": "Before"
                      },
                      {
                          "type": "image_picker",
                          "id": "before_image",
                          "label": "Image"
                      },
                      {
                          "type": "header",
                          "content": "After"
                      },
                      {
                          "type": "inline_richtext",
                          "id": "after_label",
                          "label": "Label",
                          "default": "After 6 treatment"
                      },
                      {
                          "type": "image_picker",
                          "id": "after_image",
                          "label": "Image"
                      },
                      {
                          "type": "header",
                          "content": "Category"
                      },
                      {
                          "type": "text",
                          "id": "category",
                          "label": "Category Tag",
                          "default": "General",
                          "info": "Add a category tag like 'Dark Under Eyes', 'Cystic Acne', etc."
                      }
                  ]
              }
          ],
          "presets": [
              {
                  "name": "Before & After Slider",
                  "blocks": [
                      {
                          "type": "before_and_after",
                          "settings": {
                              "before_label": "Before",
                              "after_label": "After 6 treatments"
                          }
                      },
                      {
                          "type": "before_and_after",
                          "settings": {
                              "before_label": "Before",
                              "after_label": "After 8 treatments"
                          }
                      },
                      {
                          "type": "before_and_after",
                          "settings": {
                              "before_label": "Before",
                              "after_label": "After 10 treatments"
                          }
                      },
                      {
                          "type": "before_and_after",
                          "settings": {
                              "before_label": "Before",
                              "after_label": "After 12 treatments"
                          }
                      }
                  ]
              }
          ]
      }
  {%- endschema -%}